(window.webpackJsonp=window.webpackJsonp||[]).push([["Packages.CommandLine"],{"/hxu":function(s,t,a){(s.exports=a("I1BE")(!1)).push([s.i,"",""])},FoRR:function(s,t,a){var r=a("/hxu");"string"==typeof r&&(r=[[s.i,r,""]]),r.locals&&(s.exports=r.locals);(0,a("SZ7m").default)("15ba2657",r,!0,{})},KVc9:function(s,t,a){s.exports=a("QKXn")},QKXn:function(s,t,a){"use strict";a.r(t);var r=a("JFUb"),n=Object(r.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("定义命令行规则，以及解析命令行参数")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/yargs/yargs"}},[s._v("yargs for github")]),s._v(" "),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2015/05/command-line-with-node.html"}},[s._v("yargs for 阮一峰")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/tj/commander.js"}},[s._v("commander for github")]),s._v(" "),a("a",{attrs:{href:"https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md"}},[s._v("commander fro 中文")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://infinitered.github.io/gluegun/#/"}},[s._v("gluegun")]),s._v(" 方便的定义命令行命令和参数")])])]),s._v(" "),a("h1",[s._v("命令行提示输入，选择")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js"}},[s._v("Inquirer")])])]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-javascript"}},[a("span",{attrs:{class:"hljs-comment"}},[s._v("// when的用法")]),s._v("\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { bump, customVersion } = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" inquirer.prompt([\n    {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'bump'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'请选择发布类型:'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'list'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("choices")]),s._v(": [\n        ...bumpChoices,\n        { "),a("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'自定义版本'")]),s._v(", "),a("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'custom'")]),s._v(" }\n      ]\n    },\n    {\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'customVersion'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'Input version:'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'input'")]),s._v(",\n      "),a("span",{attrs:{class:"hljs-attr"}},[s._v("when")]),s._v(": "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("answers")]),s._v(" =>")]),s._v(" answers.bump === "),a("span",{attrs:{class:"hljs-string"}},[s._v("'custom'")]),s._v("\n    }\n  ])\n")])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/terkelg/prompts"}},[s._v("prompts")])]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/enquirer/enquirer"}},[s._v("enquirer")]),s._v("样式好看一点的prompt")])]),s._v(" "),a("h1",[s._v("执行命令")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/shelljs/shelljs"}},[s._v("shelljs")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/dthree/cash"}},[s._v("cash")]),s._v("可以使用ES6")])])]),s._v(" "),a("h1",[s._v("命令行图表")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/yaronn/blessed-contrib"}},[s._v("blessed-contrib")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/sindresorhus/sparkly"}},[s._v("sparkly")]),s._v(" 命令行生成梯形图")])])]),s._v(" "),a("h1",[s._v("命令行加载中提示动画")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/ora"}},[s._v("ora")])]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/log-symbols"}},[s._v("log-symbols")]),s._v(" 在终端上显示对勾或者叉图案")])]),s._v(" "),a("h1",[s._v("命令行进度条")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/visionmedia/node-progress"}},[s._v("progress")])]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/s73obrien/super-progress"}},[s._v("super-progress")]),s._v("实体进度")])]),s._v(" "),a("h1",[s._v("设置终端字体样式")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/chalk/chalk"}},[s._v("chalk")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/bokub/gradient-string"}},[s._v("gradient-string")]),s._v("生成渐变色的文字")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/Javascipt/Jsome"}},[s._v("Jsome")]),s._v("漂亮的输出JSON对象")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/Marak/colors.js"}},[s._v("colors")])])])]),s._v(" "),a("h1",[s._v("更新控制台")]),s._v(" "),a("p",[s._v("比如清空控制台，来渲染进度，或者是动画")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/log-update"}},[s._v("log-update")])])]),s._v(" "),a("h1",[s._v("通过React来渲染控制台")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vadimdemedes/ink"}},[s._v("ink")])])]),s._v(" "),a("h1",[s._v("终端任务列表，可以同时显示多个进行中的任务")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/samverschueren/listr"}},[s._v("listr")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/codekirei/node-multispinner"}},[s._v("node-multispinner")])])])]),s._v(" "),a("h1",[s._v("控制台图标")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/sindresorhus/figures"}},[s._v("figures")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/sindresorhus/boxen"}},[s._v("boxen")]),s._v("\n控制台创建边框")])])]),s._v(" "),a("h1",[s._v("控制台创建超链接")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/terminal-link"}},[s._v("terminal-link")])])]),s._v(" "),a("h1",[s._v("控制台显示图片")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/terminal-image"}},[s._v("terminal-image")])])]),s._v(" "),a("h1",[s._v("重新定义终端，可以将终端分成多个模块")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/chjj/blessed"}},[s._v("blessed")])])]),s._v(" "),a("h1",[s._v("终端创建table")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/cli-table/cli-table3"}},[s._v("cli-table3")])])]),s._v(" "),a("h1",[s._v("在终端使用Canvas的功能")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/madbence/node-drawille"}},[s._v("node-drawille")])])]),s._v(" "),a("h1",[s._v("通知用户更新npm包，可以监测到当前使用的包是不是最新的，来在控制台显示通知")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/yeoman/update-notifier"}},[s._v("update-notifier")])])]),s._v(" "),a("h1",[s._v("格式化输出对象")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/timoxley/columnify"}},[s._v("columnify")])]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/antonmedv/fx"}},[s._v("fx")]),s._v(" 控制台查看json文件")])]),s._v(" "),a("h1",[s._v("设置命令行字帖")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/dominikwilkowski/cfonts"}},[s._v("cfonts")])])]),s._v(" "),a("h1",[s._v("命令行自动完成，命令提示")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/f/omelette"}},[s._v("omelette")])])]),s._v(" "),a("h1",[s._v("跨平台设置环境变量")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/kentcdodds/cross-env"}},[s._v("cross-env")])])]),s._v(" "),a("h1",[s._v("检查NPM包名是否可用")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/npm-name"}},[s._v("npm-name")])])]),s._v(" "),a("h1",[s._v("优化npm publish可以提供界面选择版本")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/np"}},[s._v("np")])])]),s._v(" "),a("h1",[s._v("跨平台的将文件或者文件夹移动到废纸篓（不是删除，可以恢复）")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/trash"}},[s._v("trash")])])]),s._v(" "),a("h1",[s._v("复制文件(快速，接收不存在的目录，带进度条)")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/cpy"}},[s._v("cpy")])])]),s._v(" "),a("h1",[s._v("获取公共IP")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/public-ip"}},[s._v("public-ip")])])]),s._v(" "),a("h1",[s._v("终端访问系统粘贴板(可以在终端控制复制，粘贴)")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/clipboardy"}},[s._v("clipboardy")])])]),s._v(" "),a("h1",[s._v("终端和网页交互")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/kessler/node-bcat"}},[s._v("node-bcat")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/juliangruber/browser-run"}},[s._v("browser-run")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/hughsk/scat"}},[s._v("scat")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/kessler/node-hcat"}},[s._v("node-hcat")])])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/Marak/bpipe"}},[s._v("bpipe")])])])]),s._v(" "),a("h1",[s._v("查看wifi密码")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/kevva/wifi-password-cli"}},[s._v("wifi-password-cli")])])]),s._v(" "),a("h1",[s._v("在终端试用npm包")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/victorb/trymodule"}},[s._v("trymodule")])])]),s._v(" "),a("h1",[s._v("文件处理")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/sindresorhus/globby"}},[s._v("globby")]),s._v(" 可以使用正则快速友好的查找文件")])]),s._v(" "),a("h1",[s._v("名称转驼峰")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/uppercamelcase"}},[s._v("uppercamelcase")])])]),s._v(" "),a("h1",[s._v("兼容各种系统的换行运算符")]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-javascript"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" endOfLine = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'os'")]),s._v(").EOL\n")])]),s._v(" "),a("p",[s._v("一个字符串常量,定义操作系统相关的行末标志:")]),s._v(" "),a("ul",[a("li",[s._v("\\n 在 POSIX 系统上")]),s._v(" "),a("li",[s._v("\\r\\n 在 Windows系统上")])]),s._v(" "),a("h1",[s._v("模板引擎")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/json-templater"}},[s._v("json-templater")]),s._v(" 模板解析字符串或者json文件")])]),s._v(" "),a("h1",[s._v("命令行检测页面性能")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ebidel/lighthouse-ci"}},[s._v("lighthouse-ci")])])]),s._v(" "),a("h1",[s._v("自动化发布"),a("code",{pre:!0},[s._v("npm")]),s._v(","),a("code",{pre:!0},[s._v("git")])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/release-it/release-it#git"}},[s._v("release-it")]),s._v("可以自动化修改版本，以及更改日志等等")])]),s._v(" "),a("h1",[s._v("检验引擎版本是否符合要求")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/semver"}},[s._v("semver")])])]),s._v(" "),a("p",[s._v("package.json")]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-json"}},[s._v("{\n  "),a("span",{attrs:{class:"hljs-attr"}},[s._v('"engines"')]),s._v(": {\n    "),a("span",{attrs:{class:"hljs-attr"}},[s._v('"node"')]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v('">=8.9"')]),s._v("\n  }\n}\n")])]),s._v(" "),a("p",[s._v("bin.js")]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-javascript"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" semver = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'semver'")]),s._v(")\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" requiredVersion = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'../package.json'")]),s._v(").engines.node\n\n"),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("checkNodeVersion")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("wanted, id")]),s._v(") ")]),s._v("{\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!semver.satisfies(process.version, wanted)) {\n    "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(chalk.red(\n      "),a("span",{attrs:{class:"hljs-string"}},[s._v("'You are using Node '")]),s._v(" + process.version + "),a("span",{attrs:{class:"hljs-string"}},[s._v("', but this version of '")]),s._v(" + id +\n      "),a("span",{attrs:{class:"hljs-string"}},[s._v("' requires Node '")]),s._v(" + wanted + "),a("span",{attrs:{class:"hljs-string"}},[s._v("'.\\nPlease upgrade your Node version.'")]),s._v("\n    ))\n    process.exit("),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n  }\n}\n\ncheckNodeVersion(requiredVersion, "),a("span",{attrs:{class:"hljs-string"}},[s._v("'gigle-cli'")]),s._v(")\n")])]),s._v(" "),a("h1",[s._v("判断项目名称是否有效")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/validate-npm-package-name"}},[s._v("validate-npm-package-name")])])]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-javascript"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" result = validateProjectName(name)\n"),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!result.validForNewPackages) {\n  "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".error(chalk.red("),a("span",{attrs:{class:"hljs-string"}},[s._v('`Invalid project name: "'),a("span",{attrs:{class:"hljs-subst"}},[s._v("${name}")]),s._v('"`')]),s._v("))\n  result.errors && result.errors.forEach("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("err")]),s._v(" =>")]),s._v(" {\n    "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".error(chalk.red.dim("),a("span",{attrs:{class:"hljs-string"}},[s._v("'Error: '")]),s._v(" + err))\n  })\n  result.warnings && result.warnings.forEach("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("warn")]),s._v(" =>")]),s._v(" {\n    "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".error(chalk.red.dim("),a("span",{attrs:{class:"hljs-string"}},[s._v("'Warning: '")]),s._v(" + warn))\n  })\n  exit("),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n}\n")])]),s._v(" "),a("h1",[s._v("命令行语法高亮")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/cli-highlight"}},[s._v("cli-highlight")])])]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-javascript"}},[a("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(highlight(log, {"),a("span",{attrs:{class:"hljs-attr"}},[s._v("language")]),s._v(": "),a("span",{attrs:{class:"hljs-string"}},[s._v("'sql'")]),s._v(", "),a("span",{attrs:{class:"hljs-attr"}},[s._v("ignoreIllegals")]),s._v(": "),a("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("}))\n")])]),s._v(" "),a("h1",[s._v("终端显示多行多列的样式")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/cliui"}},[s._v("cliui")])])]),s._v(" "),a("p",[s._v("例如下面的"),a("code",{pre:!0},[s._v("vue-cli")]),s._v("打包出来用列表的形式显示出各个资源包的大小")]),s._v(" "),a("pre",{pre:!0},[a("code",{attrs:{class:"hljs language-javascript"}},[a("span",{attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".exports = "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("formatStats")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("stats, dir, api")]),s._v(") ")]),s._v("{\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fs = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'fs'")]),s._v(")\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" path = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'path'")]),s._v(")\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" zlib = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'zlib'")]),s._v(")\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" chalk = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'chalk'")]),s._v(")\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ui = "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{attrs:{class:"hljs-string"}},[s._v("'cliui'")]),s._v(")({ "),a("span",{attrs:{class:"hljs-attr"}},[s._v("width")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("80")]),s._v(" })\n\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" json = stats.toJson({\n    "),a("span",{attrs:{class:"hljs-attr"}},[s._v("hash")]),s._v(": "),a("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n    "),a("span",{attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": "),a("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n    "),a("span",{attrs:{class:"hljs-attr"}},[s._v("chunks")]),s._v(": "),a("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n  })\n\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" assets = json.assets\n    ? json.assets\n    : json.children.reduce("),a("span",{attrs:{class:"hljs-function"}},[s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("acc, child")]),s._v(") =>")]),s._v(" acc.concat(child.assets), [])\n\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" seenNames = "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{attrs:{class:"hljs-built_in"}},[s._v("Map")]),s._v("()\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isJS = "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("val")]),s._v(" =>")]),s._v(" /\\.js$/.test(val)\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isCSS = "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("val")]),s._v(" =>")]),s._v(" /\\.css$/.test(val)\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isMinJS = "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("val")]),s._v(" =>")]),s._v(" /\\.min\\.js$/.test(val)\n  assets = assets\n    .filter("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("a")]),s._v(" =>")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (seenNames.has(a.name)) {\n        "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n      }\n      seenNames.set(a.name, "),a("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(")\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" isJS(a.name) || isCSS(a.name)\n    })\n    .sort("),a("span",{attrs:{class:"hljs-function"}},[s._v("("),a("span",{attrs:{class:"hljs-params"}},[s._v("a, b")]),s._v(") =>")]),s._v(" {\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (isJS(a.name) && isCSS(b.name)) "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-number"}},[s._v("-1")]),s._v("\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (isCSS(a.name) && isJS(b.name)) "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (isMinJS(a.name) && !isMinJS(b.name)) "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-number"}},[s._v("-1")]),s._v("\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!isMinJS(a.name) && isMinJS(b.name)) "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n      "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" b.size - a.size\n    })\n\n  "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("formatSize")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("size")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (size / "),a("span",{attrs:{class:"hljs-number"}},[s._v("1024")]),s._v(").toFixed("),a("span",{attrs:{class:"hljs-number"}},[s._v("2")]),s._v(") + "),a("span",{attrs:{class:"hljs-string"}},[s._v("' KiB'")]),s._v("\n  }\n\n  "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("getGzippedSize")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("asset")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" filepath = api.resolve(path.join(dir, asset.name))\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" buffer = fs.readFileSync(filepath)\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" formatSize(zlib.gzipSync(buffer).length)\n  }\n\n  "),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"hljs-title"}},[s._v("makeRow")]),s._v(" ("),a("span",{attrs:{class:"hljs-params"}},[s._v("a, b, c")]),s._v(") ")]),s._v("{\n    "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-string"}},[s._v("`  "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${a}")]),s._v("\\t    "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${b}")]),s._v("\\t "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${c}")]),s._v("`")]),s._v("\n  }\n\n  ui.div(\n    makeRow(\n      chalk.cyan.bold("),a("span",{attrs:{class:"hljs-string"}},[s._v("`File`")]),s._v("),\n      chalk.cyan.bold("),a("span",{attrs:{class:"hljs-string"}},[s._v("`Size`")]),s._v("),\n      chalk.cyan.bold("),a("span",{attrs:{class:"hljs-string"}},[s._v("`Gzipped`")]),s._v(")\n    ) + "),a("span",{attrs:{class:"hljs-string"}},[s._v("`\\n\\n`")]),s._v(" +\n    assets.map("),a("span",{attrs:{class:"hljs-function"}},[a("span",{attrs:{class:"hljs-params"}},[s._v("asset")]),s._v(" =>")]),s._v(" makeRow(\n      "),a("span",{attrs:{class:"hljs-regexp"}},[s._v("/js$/")]),s._v(".test(asset.name)\n        ? chalk.green(path.join(dir, asset.name))\n        : chalk.blue(path.join(dir, asset.name)),\n      formatSize(asset.size),\n      getGzippedSize(asset)\n    )).join("),a("span",{attrs:{class:"hljs-string"}},[s._v("`\\n`")]),s._v(")\n  )\n\n  "),a("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"hljs-string"}},[s._v("`"),a("span",{attrs:{class:"hljs-subst"}},[s._v("${ui.toString()}")]),s._v("\\n\\n  "),a("span",{attrs:{class:"hljs-subst"}},[s._v("${chalk.gray("),a("span",{attrs:{class:"hljs-string"}},[s._v("`Images and other types of assets omitted.`")]),s._v(")}")]),s._v("\\n`")]),s._v("\n}\n")])])])}],!1,null,null,null);t.default=n.exports},YIBE:function(s,t,a){"use strict";a.r(t);var r=a("KVc9"),n={name:"PackagesCommandLine",components:{md:a.n(r).a}},l=a("JFUb");var v=function(s){a("FoRR")},e=Object(l.a)(n,function(){var s=this.$createElement,t=this._self._c||s;return t("div",[t("md")],1)},[],!1,v,"data-v-04df95d2",null);t.default=e.exports}}]);