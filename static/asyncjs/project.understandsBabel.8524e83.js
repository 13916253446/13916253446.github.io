(window.webpackJsonp=window.webpackJsonp||[]).push([["project.understandsBabel"],{Aix9:function(s,a,t){"use strict";t.r(a);var e=t("JFUb"),r=Object(e.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h3",{attrs:{id:"preset-shi-shi-me"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#preset-shi-shi-me","aria-hidden":"true"}},[s._v("¶")]),s._v(" "),t("code",{pre:!0},[s._v("preset")]),s._v("是什么")]),s._v(" "),t("p",[t("code",{pre:!0},[s._v("babel")]),s._v("将所有可以转换的语法都写成一个一个的插件，比如转换箭头函数需要"),t("code",{pre:!0},[s._v("@babel/plugin-transform-arrow-functions")]),s._v("，转换"),t("code",{pre:!0},[s._v("let,const")]),s._v("需要"),t("code",{pre:!0},[s._v("@babel/plugin-transform-block-scoping")]),s._v("。")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("如果是这样项目就需要配置很多的"),t("code",{pre:!0},[s._v("plugin")]),s._v("，所以官方就把一些常用的插件封装起来，安装这个预设就相当于安装了这些插件，可以吧"),t("code",{pre:!0},[s._v("Preset")]),s._v("理解为套餐，每个套餐里面打包一系列的插件，这样安装套餐就相当于安装了大量的插件。")])]),s._v(" "),t("p",[t("strong",[s._v("可以查看项目下@babel/preset-env/data/plugin-features.js")]),s._v("文件查看当前"),t("code",{pre:!0},[s._v("env")]),s._v("维护的插件列表，也可以直接通过"),t("a",{attrs:{href:"https://github.com/babel/babel-preset-env/blob/master/data/plugin-features.js"}},[s._v("babel-env-plugins")]),s._v("来查看。")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("我们可以封装一个"),t("code",{pre:!0},[s._v("preset")]),s._v("给特定的环境使用比如APP端使用，例如"),t("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/babel-preset-app"}},[s._v("@vue/babel-preset-app")]),s._v("，文档可以查看"),t("a",{attrs:{href:"https://www.babeljs.cn/docs/presets#%E5%88%9B%E5%BB%BA-preset"}},[s._v("创建 Preset")])])]),s._v(" "),t("blockquote",[t("p",[s._v("虽说浏览器的特性支持状况千差万别，但其实可以提炼出两类："),t("br"),s._v("\n1、大家都有，只是 A 语法与 B 语法的区别；"),t("br"),s._v("\n2、不是大家都有：有的有，有的没有。")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("babel 编译过程处理第一种情况 - 统一语法的形态，通常是高版本语法编译成低版本的，比如 ES6 语法编译成 ES5 或 ES3。而 babel-polyfill 处理第二种情况 - 让目标浏览器支持所有特性，不管它是全局的，还是原型的，或是其它。这样，通过 babel-polyfill，不同浏览器在特性支持上就站到同一起跑线。")])]),s._v(" "),t("h3",{attrs:{id:"babel-polyfill-shi-shi-me"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill-shi-shi-me","aria-hidden":"true"}},[s._v("¶")]),s._v(" "),t("code",{pre:!0},[s._v("babel-polyfill")]),s._v("是什么")]),s._v(" "),t("p",[s._v("为什么需要 "),t("code",{pre:!0},[s._v("polyfill")]),s._v(" 这所谓的垫片？前面聊到 "),t("code",{pre:!0},[s._v("@babel/preset-env")]),s._v(" 时，不是说只要定义好我想支持的目标浏览器，"),t("code",{pre:!0},[s._v("babel")]),s._v(" 就能编译出能运行在目标浏览器上的代码吗？")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("拿 "),t("code",{pre:!0},[s._v("findIndex")]),s._v(" 来说,IE 11不支持该方法，"),t("code",{pre:!0},[s._v("babel")]),s._v("只能转译语法层面的，即使编译，不支持"),t("code",{pre:!0},[s._v("findIndex")]),s._v("的浏览器还是不兼容，这时候就需要垫片"),t("code",{pre:!0},[s._v("polyfill")]),s._v("：如果目标环境中已经存在 "),t("code",{pre:!0},[s._v("findIndex")]),s._v("，我们什么都不做，如果没有，我们就在 "),t("code",{pre:!0},[s._v("Array")]),s._v(" 的原型中定义一个。可以看"),t("code",{pre:!0},[s._v("findInex")]),s._v("的垫片如下：")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!"),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype.findIndex) {\n  "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".defineProperty("),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Array")]),s._v(".prototype, "),t("span",{attrs:{class:"hljs-string"}},[s._v("'findIndex'")]),s._v(", {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("predicate")]),s._v(") ")]),s._v("{\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(" == "),t("span",{attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(") {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("TypeError")]),s._v("("),t("span",{attrs:{class:"hljs-string"}},[s._v("'\"this\" is null or not defined'")]),s._v(");\n      }\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" o = "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v("("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(");\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" len = o.length >>> "),t("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" predicate !== "),t("span",{attrs:{class:"hljs-string"}},[s._v("'function'")]),s._v(") {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("TypeError")]),s._v("("),t("span",{attrs:{class:"hljs-string"}},[s._v("'predicate must be a function'")]),s._v(");\n      }\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" thisArg = "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v("["),t("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v("];\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" k = "),t("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("while")]),s._v(" (k < len) {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" kValue = o[k];\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (predicate.call(thisArg, kValue, k, o)) {\n          "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" k;\n        }\n        k++;\n      }\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(";\n    }\n  });\n}\n")])]),s._v(" "),t("h2",{attrs:{id:"can-kao"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#can-kao","aria-hidden":"true"}},[s._v("¶")]),s._v(" 参考：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/zloirock/core-js/blob/master/docs/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md"}},[s._v("corejs@3")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://babeljs.io/blog/2019/03/19/7.4.0#code-placeholders-9364-https-githubcom-babel-babel-pull-9364"}},[s._v("babel更新日志")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://blog.zfanw.com/babel-js/#x3-babel-runtime"}},[s._v("babel 7 教程")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://segmentfault.com/q/1010000005596587"}},[s._v("babel的polyfill和runtime的区别")])])])])}],!1,null,null,null);a.default=r.exports},e0wr:function(s,a,t){(s.exports=t("I1BE")(!1)).push([s.i,"",""])},eKgY:function(s,a,t){s.exports=t("Aix9")},vtIS:function(s,a,t){"use strict";t.r(a);var e=t("eKgY"),r={name:"ProjectUnderstandsBabel",components:{md:t.n(e).a}},l=t("JFUb");var n=function(s){t("y2HN")},v=Object(l.a)(r,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,n,"data-v-6a3a24b0",null);a.default=v.exports},y2HN:function(s,a,t){var e=t("e0wr");"string"==typeof e&&(e=[[s.i,e,""]]),e.locals&&(s.exports=e.locals);(0,t("SZ7m").default)("6265344c",e,!0,{})}}]);