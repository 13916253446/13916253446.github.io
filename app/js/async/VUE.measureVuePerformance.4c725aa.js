(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{GLRN:function(s,a,e){"use strict";e.r(a);var n=e("T5yg"),t={name:"VUEMeasureVuePerformance",components:{md:e.n(n).a}},r=e("JFUb");var l=function(s){e("psF1")},v=Object(r.a)(t,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,l,"data-v-09845b2c",null);a.default=v.exports},T5yg:function(s,a,e){s.exports=e("w5pL")},hD2j:function(s,a,e){(s.exports=e("I1BE")(!1)).push([s.i,"",""])},psF1:function(s,a,e){var n=e("hD2j");"string"==typeof n&&(n=[[s.i,n,""]]),n.locals&&(s.exports=n.locals);(0,e("SZ7m").default)("46e3112e",n,!0,{})},w5pL:function(s,a,e){"use strict";e.r(a);var n=e("JFUb"),t=Object(n.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("section",[e("h1",[s._v("如何测量Vue.js运行时性能")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("打开"),e("code",{pre:!0},[s._v("performance开关")])]),s._v(" "),e("pre",{pre:!0},[e("code",{attrs:{class:"hljs language-javascript"}},[e("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isDev = process.env.NODE_ENV !== "),e("span",{attrs:{class:"hljs-string"}},[s._v('"production"')]),s._v("\nVue.config.performance = isDev\n")])])])]),s._v(" "),e("p",[s._v("这将激活"),e("code",{pre:!0},[s._v("Vue")]),s._v("在内部用于标记组件性能的"),e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API"}},[s._v("User Timing API")]),s._v("。")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("打开它并点击"),e("code",{pre:!0},[s._v("Chrome DevTools")]),s._v("上的性能标签中的重新加载按钮：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://mp1.oss-cn-beijing.aliyuncs.com/featured.png",alt:""}})])])]),s._v(" "),e("h1",[s._v("如何利用performance测量代码性能")]),s._v(" "),e("pre",{pre:!0},[e("code",{attrs:{class:"hljs language-javascript"}},[e("span",{attrs:{class:"hljs-comment"}},[s._v("// 执行前做个标记")]),s._v("\n"),e("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" nameStart = "),e("span",{attrs:{class:"hljs-string"}},[s._v("'start'")]),s._v("\n"),e("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".performance.mark(nameStart)\n"),e("span",{attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),e("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i = "),e("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i <= "),e("span",{attrs:{class:"hljs-number"}},[s._v("100000")]),s._v("; i ++) {}\n"),e("span",{attrs:{class:"hljs-comment"}},[s._v("// 执行后做个标记")]),s._v("\n"),e("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" nameEnd = "),e("span",{attrs:{class:"hljs-string"}},[s._v("'end'")]),s._v("\n"),e("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".performance.mark(nameEnd)\n\n"),e("span",{attrs:{class:"hljs-comment"}},[s._v("// 搜集数据")]),s._v("\n"),e("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" name = "),e("span",{attrs:{class:"hljs-string"}},[s._v("'测量'")]),s._v("\n"),e("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".performance.measure(name, nameStart, nameEnd)\n")])]),s._v(" "),e("h3",{attrs:{id:"cha-kan-sou-ji-dao-xing-neng-shu-ju"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cha-kan-sou-ji-dao-xing-neng-shu-ju","aria-hidden":"true"}},[s._v("¶")]),s._v(" 查看搜集到性能数据")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("利用"),e("code",{pre:!0},[s._v("Chrome DevTools")]),s._v("查看"),e("code",{pre:!0},[s._v("performance")]),s._v("栏下的"),e("code",{pre:!0},[s._v("User Timing")])])]),s._v(" "),e("li",[e("p",[s._v("利用"),e("code",{pre:!0},[s._v("js")])]),s._v(" "),e("pre",{pre:!0},[e("code",{attrs:{class:"hljs language-javascript"}},[e("span",{attrs:{class:"hljs-comment"}},[s._v("// 看下保存起来的测量 measure")]),s._v("\n"),e("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" measure = "),e("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".performance.getEntriesByType("),e("span",{attrs:{class:"hljs-string"}},[s._v("'measure'")]),s._v(")\n"),e("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(measure)\n")])])])]),s._v(" "),e("h1",[s._v("参考")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.alloyteam.com/2015/09/explore-performance/"}},[s._v("初探 performance – 监控网页与程序性能")])])])])}],!1,null,null,null);a.default=t.exports}}]);