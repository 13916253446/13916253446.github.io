(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{EwpS:function(s,a,t){s.exports=t("cjPS")},G7We:function(s,a,t){var v=t("e2AG");"string"==typeof v&&(v=[[s.i,v,""]]),v.locals&&(s.exports=v.locals);(0,t("SZ7m").default)("67ef96d2",v,!0,{})},cjPS:function(s,a,t){"use strict";t.r(a);var v=t("JFUb"),n=Object(v.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h4",{attrs:{id:"li-jie-javascript-de-bian-yi-yuan-li"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#li-jie-javascript-de-bian-yi-yuan-li","aria-hidden":"true"}},[s._v("¶")]),s._v(" 理解"),t("code",{pre:!0},[s._v("javascript")]),s._v("的编译原理")]),s._v(" "),t("ol",[t("li",[s._v("首先分词(词法分析)")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" sum = "),t("span",{attrs:{class:"hljs-number"}},[s._v("30")]),s._v(";\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 词法分析后的结果")]),s._v("\n[\n  "),t("span",{attrs:{class:"hljs-string"}},[s._v('"var"')]),s._v(" : "),t("span",{attrs:{class:"hljs-string"}},[s._v('"keyword"')]),s._v(",\n  "),t("span",{attrs:{class:"hljs-string"}},[s._v('"sum"')]),s._v(" : "),t("span",{attrs:{class:"hljs-string"}},[s._v('"identifier"')]),s._v(",\n  "),t("span",{attrs:{class:"hljs-string"}},[s._v('"="')]),s._v("   : "),t("span",{attrs:{class:"hljs-string"}},[s._v('"assignment"')]),s._v(",\n  "),t("span",{attrs:{class:"hljs-string"}},[s._v('"30"')]),s._v("  : "),t("span",{attrs:{class:"hljs-string"}},[s._v('"integer"')]),s._v(",\n  "),t("span",{attrs:{class:"hljs-string"}},[s._v('";"')]),s._v("   : "),t("span",{attrs:{class:"hljs-string"}},[s._v('"eos"')]),s._v(" (end "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("of")]),s._v(" statement)\n]\n")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("这些代码块被称为词法单元(token) ，这些词法单元组成了词法单元流数组")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("语法分析")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("把词法单元流数组转换成一个由元素逐级嵌套所组成的代表程序语法结构的树，这个树被称为“抽象语法树” (Abstract Syntax Tree, 简称AST)。")])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("代码生成")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("将抽象语法树（AST）转换为一组机器指令，也就是可执行代码，简单说，就是用来创建一个变量a，并将3这个值储存在a中。")])]),s._v(" "),t("img",{staticStyle:{height:"160px"},attrs:{src:"https://mp1.oss-cn-beijing.aliyuncs.com/blog/169826acb0356502"}}),s._v(" "),t("div",{staticClass:"warning"},[t("ul",[t("li",[s._v("JavaScript 大部分情况下编译发生在代码执行前的几微秒(甚至更短!)的时间内")]),s._v(" "),t("li",[s._v("JavaScript 引擎用尽了各种办法(比如 JIT，可以延 迟编译甚至实施重编译)来保证性能最佳")])])]),s._v(" "),t("h4",{attrs:{id:"javascript-shi-ru-he-zhi-xing-de"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#javascript-shi-ru-he-zhi-xing-de","aria-hidden":"true"}},[s._v("¶")]),s._v(" "),t("code",{pre:!0},[s._v("javascript")]),s._v("是如何执行的")]),s._v(" "),t("div",{staticClass:"tip"},[t("ul",[t("li",[t("strong",[s._v("变量")]),s._v("和"),t("strong",[s._v("函数")]),s._v("在内的所有声明都会在任何代码被执行前"),t("strong",[s._v("首先")]),s._v("被处理")]),s._v(" "),t("li",[s._v("函数运行的瞬间，创建一个AO (Active Object 活动对象)运行载体")])])]),s._v(" "),t("p",[s._v("例子一：")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("age")]),s._v(") ")]),s._v("{\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" age = "),t("span",{attrs:{class:"hljs-number"}},[s._v("20")]),s._v("\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n    "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("age")]),s._v("("),t("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    }\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n}\na("),t("span",{attrs:{class:"hljs-number"}},[s._v("18")]),s._v(");\n")])]),s._v(" "),t("ol",[t("li",[s._v("分析阶段")])]),s._v(" "),t("p",[s._v("函数运行的瞬间，创建一个AO (Active Object 活动对象)")]),s._v(" "),t("blockquote",[t("p",[s._v("AO (Active Object 活动对象) 相当于载体")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("AO = {}")])]),s._v(" "),t("p",[t("strong",[s._v("第一步，分析函数参数：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("形式参数：AO.age = undefined"),t("br"),s._v("\n实参：AO.age = 18")])]),s._v(" "),t("p",[t("strong",[s._v("第二步，分析变量声明：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("// 第3行代码有var age"),t("br"),s._v("\n// 但此前第一步中已有AO.age = 18, 有同名属性,不做任何事"),t("br"),s._v("\n即AO.age = 18")])]),s._v(" "),t("p",[t("strong",[s._v("第三步，分析函数声明：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("// 第5行代码有函数age"),t("br"),s._v("\n// 则将function age(){}付给AO.age"),t("br"),s._v("\nAO.age = function age() {}"),t("br")])]),s._v(" "),t("p",[t("strong",[s._v("函数声明特点：AO上如果有与函数名同名的属性,则会被此函数覆盖")])]),s._v(" "),t("p",[s._v("分析阶段最终结果是：")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("AO.age = function age() {}")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("执行阶段")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("age")]),s._v(") ")]),s._v("{\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age); "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 第一步：AO.age = function age() {}")]),s._v("\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" age = "),t("span",{attrs:{class:"hljs-number"}},[s._v("20")]),s._v(" "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 第二步 AO.age = 20")]),s._v("\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age); "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 第三步 AO.age： 20")]),s._v("\n    "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("age")]),s._v("("),t("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    }\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age); "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 第四步 AO.age：20")]),s._v("\n}\na("),t("span",{attrs:{class:"hljs-number"}},[s._v("18")]),s._v(");\n")])]),s._v(" "),t("p",[s._v("例子二：")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("age")]),s._v(") ")]),s._v("{\n      "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" age = "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n          "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n      }\n      age();\n  }\na("),t("span",{attrs:{class:"hljs-number"}},[s._v("18")]),s._v(");\n")])]),s._v(" "),t("ol",[t("li",[s._v("分析阶段")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("AO = {}")])]),s._v(" "),t("p",[t("strong",[s._v("第一步，分析函数参数：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("形式参数：AO.age = undefined"),t("br"),s._v("\n实参：AO.age = 18")])]),s._v(" "),t("p",[t("strong",[s._v("第二步，分析变量声明：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("// 第2行代码有var age"),t("br"),s._v("\n// 但此前第一步中已有AO.age = 18, 有同名属性,不做任何事"),t("br"),s._v("\n即AO.age = 18")])]),s._v(" "),t("p",[t("strong",[s._v("第三步，分析函数声明：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("无")])]),s._v(" "),t("p",[s._v("分析阶段最终结果是：")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("AO.age = 18")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("执行阶段")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("age")]),s._v(") ")]),s._v("{\n    "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age); "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// AO.age = 18 :18")]),s._v("\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" age = "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n        "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{attrs:{class:"hljs-string"}},[s._v("'25'")]),s._v(");\n    }\n}\na("),t("span",{attrs:{class:"hljs-number"}},[s._v("18")]),s._v(");\n")])]),s._v(" "),t("p",[s._v("例子三：")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("age")]),s._v(") ")]),s._v("{\n  "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" age = "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n      "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n  }\n  age();\n}\na("),t("span",{attrs:{class:"hljs-number"}},[s._v("18")]),s._v(");\n")])]),s._v(" "),t("ol",[t("li",[s._v("分析阶段")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("AO = {}")])]),s._v(" "),t("p",[t("strong",[s._v("第一步，分析函数参数：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("形式参数：AO.age = undefined"),t("br"),s._v("\n实参：AO.age = 18")])]),s._v(" "),t("p",[t("strong",[s._v("第二步，分析变量声明：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("// 第2行代码有var age"),t("br"),s._v("\n// 但此前第一步中已有AO.age = 18, 有同名属性,不做任何事"),t("br"),s._v("\n即AO.age = 18")])]),s._v(" "),t("p",[t("strong",[s._v("第三步，分析函数声明：")])]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("无")])]),s._v(" "),t("p",[s._v("分析阶段最终结果是：")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("AO.age = 18")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("执行阶段")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("age")]),s._v(") ")]),s._v("{\n  "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" age = "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n      "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(age);\n  }\n  age();\n}\na("),t("span",{attrs:{class:"hljs-number"}},[s._v("18")]),s._v(");\n")])]),s._v(" "),t("p",[s._v("2.1 "),t("code",{pre:!0},[s._v("age()")]),s._v("的分析和执行")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("// 分析阶段"),t("br"),s._v("\n创建新的AO对象，AO = {}"),t("br"),s._v("\n第一步，分析函数参数（无）"),t("br"),s._v("\n第二步，分析变量声明（无）"),t("br"),s._v("\n第三步，分析函数声明（无）"),t("br"),s._v("\n分析阶段最终结果是：AO = {}"),t("br")])]),s._v(" "),t("ul",[t("li",[s._v("当"),t("code",{pre:!0},[s._v("age()")]),s._v(" 自己的"),t("code",{pre:!0},[s._v("AO")]),s._v("对象，即"),t("code",{pre:!0},[s._v("age.AO")]),s._v("是个空对象时，它会往上调用。")]),s._v(" "),t("li",[s._v("上一级的"),t("code",{pre:!0},[s._v("AO")]),s._v("对象是"),t("code",{pre:!0},[s._v("a")]),s._v("，即"),t("code",{pre:!0},[s._v("a.AO")]),s._v(", "),t("code",{pre:!0},[s._v("a.AO")]),s._v("下有个执行完后得到的"),t("code",{pre:!0},[s._v("a.AO.age = function(){console.log(age);}")])]),s._v(" "),t("li",[s._v("输出 "),t("code",{pre:!0},[s._v("ƒ () { console.log(age); }")])])]),s._v(" "),t("h3",{attrs:{id:"zong-jie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zong-jie","aria-hidden":"true"}},[s._v("¶")]),s._v(" 总结：")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[t("code",{pre:!0},[s._v("JavaScript")]),s._v("上每一个函数执行时，会先在自己创建的"),t("code",{pre:!0},[s._v("AO")]),s._v("上找对应属性值。若找不到则往父函数的"),t("code",{pre:!0},[s._v("AO")]),s._v("上找，再找不到则再上一层的"),t("code",{pre:!0},[s._v("AO")]),s._v(",直到找到大"),t("code",{pre:!0},[s._v("boss:window")]),s._v("（全局作用域）。 而这一条形成的"),t("code",{pre:!0},[s._v("“AO链”")]),s._v(" 就是"),t("code",{pre:!0},[s._v("JavaScript")]),s._v("中的作用域链。")])]),s._v(" "),t("h3",{attrs:{id:"can-kao"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#can-kao","aria-hidden":"true"}},[s._v("¶")]),s._v(" 参考：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c8efeb1e51d45614372addd"}},[s._v("为何你始终理解不了JavaScript作用域链？")])])])])}],!1,null,null,null);a.default=n.exports},e2AG:function(s,a,t){(s.exports=t("I1BE")(!1)).push([s.i,"",""])},ie89:function(s,a,t){"use strict";t.r(a);var v=t("EwpS"),n={name:"FoodsActionScopeList",components:{md:t.n(v).a}},_=t("JFUb");var l=function(s){t("G7We")},r=Object(_.a)(n,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,l,"data-v-843da06c",null);a.default=r.exports}}]);