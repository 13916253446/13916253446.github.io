(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{IajC:function(e,t,n){"use strict";n.r(t);var a=n("sje1"),s={name:"JavascriptTemporalDeadZone",components:{md:n.n(a).a}},v=n("JFUb");var r=function(e){n("wken")},_=Object(v.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("md")],1)},[],!1,r,"data-v-196aa824",null);t.default=_.exports},NODV:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"",""])},fOw7:function(e,t,n){"use strict";n.r(t);var a=n("JFUb"),s=Object(a.a)(null,function(){var e=this;e.$createElement;e._self._c;return e._m(0)},[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h1",[e._v("从现象说起")]),e._v(" "),n("p",[e._v("请思考下面这段代码，结果会是什么？")]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-built_in"}},[e._v("console")]),e._v(".log(a)\n"),n("span",{attrs:{class:"hljs-keyword"}},[e._v("var")]),e._v(" a\n")])]),e._v(" "),n("p",[e._v("如果了解变量提升，那么很容易就会知道结果是"),n("code",{pre:!0},[e._v("undefined")])]),e._v(" "),n("p",[e._v("而在"),n("strong",[e._v("ES6")]),e._v("中，会出现什么情况呢？")]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-built_in"}},[e._v("console")]),e._v(".log(a)\n"),n("span",{attrs:{class:"hljs-keyword"}},[e._v("let")]),e._v(" a\n")])]),e._v(" "),n("p",[e._v("我们看到，在第一段代码中，只把 var 改成 let 代码就会报错:"),n("code",{pre:!0},[e._v("ReferenceError: a is not defined")])]),e._v(" "),n("p",[e._v("原因就是我们忽略了"),n("code",{pre:!0},[e._v("let")]),e._v("的暂时性死区（ temporal dead zone，简称TDZ ）")]),e._v(" "),n("h1",[e._v("为什么会出现暂时性死区")]),e._v(" "),n("p",[e._v("先来看看"),n("strong",[e._v("ES6")]),e._v("标准中对"),n("code",{pre:!0},[e._v("let/const")]),e._v("声明中的解释 第13章，有如下一段文字：")]),e._v(" "),n("blockquote",[n("p",[e._v("The variables are created when their containing Lexical Environment is instantiated but may not be accessed inany way until the variable’s LexicalBinding is evaluated.")])]),e._v(" "),n("p",[e._v("当然这段话我看完也很懵，查阅了一些帖子，翻译成人话就是：")]),e._v(" "),n("blockquote",[n("p",[e._v("当程序的控制流程在新的作用域（module function 或 block 作用域）进行实例化时，在此作用域中用let/const声明的变量会先在作用域中被创建出来，但因此时还未进行词法绑定，所以是不能被访问的，如果访问就会抛出错误。因此，在这运行流程进入作用域创建变量，到变量可以被访问之间的这一段时间，就称之为暂时死区。")])]),e._v(" "),n("p",[e._v("如果你还是记不住，那么只需理解下面这句话即可：")]),e._v(" "),n("p",[n("strong",[e._v("ES6")]),e._v("规定，"),n("code",{pre:!0},[e._v("let/const")]),e._v("命令会使区块形成封闭的作用域。若在声明之前使用变量，就会报错。\n总之，在代码块内，使用"),n("code",{pre:!0},[e._v("let")]),e._v("命令声明变量之前，该变量都是不可用的。\n这在语法上，称为"),n("strong",[e._v("暂时性死区")]),e._v("（ temporal dead zone，简称 TDZ）。")]),e._v(" "),n("h1",[e._v("其它影响")]),e._v(" "),n("p",[n("strong",[e._v("TDZ")]),e._v("也意味着"),n("code",{pre:!0},[e._v("typeof")]),e._v("不再是一个百分之百安全的操作。")]),e._v(" "),n("p",[e._v("我们看下面这段代码，")]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-keyword"}},[e._v("typeof")]),e._v(" a "),n("span",{attrs:{class:"hljs-comment"}},[e._v("// ReferenceError: a is not defined")]),e._v("\n"),n("span",{attrs:{class:"hljs-keyword"}},[e._v("let")]),e._v(" a\n")])]),e._v(" "),n("p",[e._v("在没有"),n("code",{pre:!0},[e._v("let")]),e._v("之前，"),n("code",{pre:!0},[e._v("typeof")]),e._v("运算符是百分之百安全的，不会报错。\n现在这一点不成立了。")])])}],!1,null,null,null);t.default=s.exports},sje1:function(e,t,n){e.exports=n("fOw7")},wken:function(e,t,n){var a=n("NODV");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("37b05d6c",a,!0,{})}}]);