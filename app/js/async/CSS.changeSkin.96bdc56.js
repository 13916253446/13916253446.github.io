(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Qz5U:function(s,a,t){"use strict";t.r(a);var e=t("Zdev"),l={name:"CSSChangeSkin",components:{md:t.n(e).a}},r=t("JFUb");var n=function(s){t("uoxy")},v=Object(r.a)(l,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,n,"data-v-6f49f058",null);a.default=v.exports},Zdev:function(s,a,t){s.exports=t("uOGD")},tIaV:function(s,a,t){(s.exports=t("I1BE")(!1)).push([s.i,"",""])},uOGD:function(s,a,t){"use strict";t.r(a);var e=t("JFUb"),l=Object(e.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h4",{attrs:{id:"mu-qian-shi-xian-huan-fu-de-da-zhi-liang-ge-fang-an"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mu-qian-shi-xian-huan-fu-de-da-zhi-liang-ge-fang-an","aria-hidden":"true"}},[s._v("¶")]),s._v(" 目前实现换肤的大致两个方案")]),s._v(" "),t("ul",[t("li",[s._v("一个全局"),t("code",{pre:!0},[s._v("class")]),s._v("控制样式切换")]),s._v(" "),t("li",[s._v("改变皮肤"),t("code",{pre:!0},[s._v("link")]),s._v("的"),t("code",{pre:!0},[s._v("href")]),s._v("地址")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-HTML"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"skinLink"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"skin-default.css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text/css"')]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"actionscript"}},[s._v("\n  skinLink.href = "),t("span",{attrs:{class:"hljs-string"}},[s._v("'skin-red.css'")]),s._v("\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("p",[s._v("都不完美。全局class控制样式提高了样式优先级，如果换肤样式很多，代码会非常啰嗦，不利于维护；使用JS改变href属性会带来加载延迟，样式切换不流畅，体验不佳。")]),s._v(" "),t("h4",{attrs:{id:"yuan-sheng-te-xing-shi-xian-wang-zhan-huan-fu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yuan-sheng-te-xing-shi-xian-wang-zhan-huan-fu","aria-hidden":"true"}},[s._v("¶")]),s._v(" 原生特性实现网站换肤")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("有个非常有趣的特性，那就是"),t("code",{pre:!0},[s._v('rel="stylesheet"')]),s._v("的"),t("code",{pre:!0},[s._v("<link>")]),s._v("如果有"),t("code",{pre:!0},[s._v("title")]),s._v("属性并有值，性质上就变成了一个可以控制其渲染或者不渲染的特殊元素了。")])]),s._v(" "),t("p",[t("strong",[s._v("此方法借助"),t("code",{pre:!0},[s._v("HTML rel")]),s._v("属性的"),t("code",{pre:!0},[s._v("alternate")]),s._v("属性值实现。示意HTML如下：")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-HTML"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"reset.css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text/css"')]),s._v(">")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"default.css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text/css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("title")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"默认"')]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"red.css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"alternate stylesheet"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text/css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("title")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"红色"')]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"green.css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"alternate stylesheet"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text/css"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("title")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"绿色"')]),s._v(">")]),s._v("\n")])]),s._v(" "),t("ul",[t("li",[s._v("没有title属性，rel属性值仅仅是stylesheet的"),t("code",{pre:!0},[s._v("<link>")]),s._v("无论如何都会加载并渲染，如reset.css；")]),s._v(" "),t("li",[s._v("有title属性，rel属性值仅仅是stylesheet的"),t("code",{pre:!0},[s._v("<link>")]),s._v("作为默认样式CSS文件加载并渲染，如default.css；")]),s._v(" "),t("li",[s._v("有title属性，rel属性值同时包含alternate stylesheet的"),t("code",{pre:!0},[s._v("<link>")]),s._v("作为备选样式CSS文件加载，默认不渲染，如red.css和green.css；")])]),s._v(" "),t("h4",{attrs:{id:"zen-me-qie-huan-ni"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zen-me-qie-huan-ni","aria-hidden":"true"}},[s._v("¶")]),s._v(" 怎么切换呢")]),s._v(" "),t("div",{staticClass:"tip"},[t("p",[s._v("使用JS进行控制了，使用JavaScript代码修改"),t("code",{pre:!0},[s._v("<link>")]),s._v("元素DOM对象的disabled值为false，可以让默认不渲染的CSS开始渲染。注意，必须是DOM元素对象的disabled属性，而不是HTML元素的disabled属性，"),t("code",{pre:!0},[s._v("<link>")]),s._v("元素是没有disabled属性的")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-comment"}},[s._v("// 渲染red.css这个皮肤")]),s._v("\n"),t("span",{attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),t("span",{attrs:{class:"hljs-string"}},[s._v("'link[href=\"red.css\"]'")]),s._v(").disabled = "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n")])]),s._v(" "),t("h3",{attrs:{id:"can-kao"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#can-kao","aria-hidden":"true"}},[s._v("¶")]),s._v(" 参考：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2019/02/link-rel-alternate-website-skin/"}},[s._v("link rel=alternate网站换肤功能最佳实现")])])])])}],!1,null,null,null);a.default=l.exports},uoxy:function(s,a,t){var e=t("tIaV");"string"==typeof e&&(e=[[s.i,e,""]]),e.locals&&(s.exports=e.locals);(0,t("SZ7m").default)("66f78e61",e,!0,{})}}]);