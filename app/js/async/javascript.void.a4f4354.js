(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{"5P2K":function(s,a,n){"use strict";n.r(a);var t=n("RgjF"),l={name:"JavascriptVoid",components:{md:n.n(t).a}},v=n("JFUb");var e=function(s){n("lDKz")},r=Object(v.a)(l,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,e,"data-v-6545b138",null);a.default=r.exports},B5Dx:function(s,a,n){(s.exports=n("I1BE")(!1)).push([s.i,"",""])},RgjF:function(s,a,n){s.exports=n("g5f2")},g5f2:function(s,a,n){"use strict";n.r(a);var t=n("JFUb"),l=Object(t.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("section",[n("h1",[s._v("语法")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v(" expression\n")])]),s._v(" "),n("p",[n("code",{pre:!0},[s._v("void")]),n("strong",[s._v("运算符")]),s._v(" 对给定的表达式进行求值，然后返回"),n("code",{pre:!0},[s._v("undefined")])]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("Let expr be the result of evaluating UnaryExpression.")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("Call GetValue(expr).")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("Return undefined.")])])])]),s._v(" "),n("p",[n("strong",[s._v("重点在于")]),s._v("无论"),n("code",{pre:!0},[s._v("void")]),s._v("后的表达式是什么，"),n("code",{pre:!0},[s._v("void")]),s._v("操作符都会返回"),n("code",{pre:!0},[s._v("undefined")])]),s._v(" "),n("h1",[s._v("为什么要用void")]),s._v(" "),n("p",[s._v("因为"),n("code",{pre:!0},[s._v("undefined")]),s._v("在javascript中不是保留字。换言之，你可以写出：")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),n("span",{attrs:{class:"hljs-title"}},[s._v("joke")]),s._v("("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),n("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(" = "),n("span",{attrs:{class:"hljs-string"}},[s._v('"hello world"')]),s._v(";\n    "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),n("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("); "),n("span",{attrs:{class:"hljs-comment"}},[s._v('//会输出"hello world"')]),s._v("\n}\n"),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),n("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//输出undefined")]),s._v("\n")])]),s._v(" "),n("p",[s._v("对的，你可以在一个函数上下文内以undefined做为变量名，于是在这个上下文写的代码便只能通过从全局作用域来取到"),n("em",[s._v("undefined")]),s._v("，如：")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".undefined "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//浏览器环境")]),s._v("\nGLOBAL.undefined "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//Node环境")]),s._v("\n")])]),s._v(" "),n("p",[s._v("但要注意的是，即便window, GLOBAL仍然可以在函数上下文被定义，故从window/GLOBAL上取"),n("code",{pre:!0},[s._v("undefined")]),s._v("并不是100%可靠的做法。如：")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),n("span",{attrs:{class:"hljs-title"}},[s._v("x")]),s._v("("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n   "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),n("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(" = "),n("span",{attrs:{class:"hljs-string"}},[s._v("'hello world'")]),s._v(",\n       f = {},\n       "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(" = {\n           "),n("span",{attrs:{class:"hljs-string"}},[s._v("'undefined'")]),s._v(": "),n("span",{attrs:{class:"hljs-string"}},[s._v("'joke'")]),s._v("\n       };\n   "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),n("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(");"),n("span",{attrs:{class:"hljs-comment"}},[s._v("// hello world")]),s._v("\n   "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),n("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".undefined); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//joke")]),s._v("\n   "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(f.a === "),n("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//false")]),s._v("\n   "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(f.a === "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v(" "),n("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v("); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//true")]),s._v("\n}\n")])]),s._v(" "),n("p",[s._v("于是，采用"),n("code",{pre:!0},[s._v("void")]),s._v("方式获取"),n("em",[s._v("undefined")]),s._v("便成了通用准则。如underscore.js里的"),n("code",{pre:!0},[s._v("isUndefined")]),s._v("便是这么写的：")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[s._v("_.isUndefined = "),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),n("span",{attrs:{class:"hljs-params"}},[s._v("obj")]),s._v(") ")]),s._v("{\n    "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" obj === "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v(" "),n("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n}\n")])]),s._v(" "),n("p",[s._v("除了采用"),n("code",{pre:!0},[s._v("void")]),s._v("能保证取到"),n("em",[s._v("undefined")]),s._v("值以外，还有其它方法吗？有的，还有一种方式是通过函数调用。如AngularJS的源码里就用这样的方式：")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[s._v("("),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),n("span",{attrs:{class:"hljs-params"}},[s._v("window, document, undefined")]),s._v(") ")]),s._v("{\n    "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//.....")]),s._v("\n})("),n("span",{attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(", "),n("span",{attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(");\n")])]),s._v(" "),n("h1",[s._v("注意事项")]),s._v(" "),n("blockquote",[n("p",[s._v("注意：GetValue一定要调用，即使它的值不会被用到，但是这个表达式可能会有副作用(side-effects)。")])]),s._v(" "),n("p",[s._v("这是什么意思？这表示无论void右边的表达式是什么，都要对其求值。")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[s._v("ar happiness = "),n("span",{attrs:{class:"hljs-number"}},[s._v("10")]),s._v(";\n"),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" girl = {\n    get whenMarry() {\n        happiness--;\n        "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v("/"),n("span",{attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//Infinity")]),s._v("\n    },\n    get happiness() {\n        "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" happiness;\n    }\n};\n\n"),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(girl.whenMarry); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//调用了whenMarry的get方法")]),s._v("\n"),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(girl.happiness); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("// 9")]),s._v("\n\n"),n("span",{attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v(" girl.whenMarry; "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//调用了whenMarry的get方法")]),s._v("\n"),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(girl.happiness); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("// 8")]),s._v("\n\n"),n("span",{attrs:{class:"hljs-keyword"}},[s._v("delete")]),s._v(" girl.whenMarry; "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//没有调用whenMarry的get方法")]),s._v("\n"),n("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(girl.happiness); "),n("span",{attrs:{class:"hljs-comment"}},[s._v("//还是8")]),s._v("\n")])]),s._v(" "),n("p",[s._v("从执行情况可以看出，无论是普通访问"),n("code",{pre:!0},[s._v("girl.whenMarry")]),s._v("，还是"),n("code",{pre:!0},[s._v("void girl.whenMarry")]),s._v("都会使她的"),n("code",{pre:!0},[s._v("happiness--")]),s._v("。而如果把"),n("code",{pre:!0},[s._v("void")]),s._v("换成"),n("code",{pre:!0},[s._v("delete")]),s._v("操作符写成"),n("code",{pre:!0},[s._v("delete girl.whenMarry")]),s._v("，她的"),n("code",{pre:!0},[s._v("happiness")]),s._v("就不会减了，因为"),n("code",{pre:!0},[s._v("delete")]),s._v("操作符不会对"),n("code",{pre:!0},[s._v("girl.whenMarry")]),s._v("求值。")]),s._v(" "),n("h1",[s._v("使用场景")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("立即调用的函数表达式")]),s._v(" "),n("p",[s._v("在使用"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/IIFE"}},[s._v("立即执行的函数表达式")]),s._v("时，可以利用"),n("code",{pre:!0},[s._v("void")]),s._v("运算符让 JavaScript 引擎把一个"),n("code",{pre:!0},[s._v("function")]),s._v("关键字识别成函数表达式而不是函数声明（语句）。")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-javascript"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v(" "),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),n("span",{attrs:{class:"hljs-title"}},[s._v("iife")]),s._v("("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" bar = "),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{};\n    "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" baz = "),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{};\n    "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n        bar();\n        baz();\n     };\n    "),n("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" biz = "),n("span",{attrs:{class:"hljs-function"}},[n("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),n("span",{attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{};\n\n    foo();\n    biz();\n}();\n")])])]),s._v(" "),n("li",[n("p",[s._v("JavaScript URIs")]),s._v(" "),n("p",[s._v("当用户点击一个以"),n("code",{pre:!0},[s._v("javascript:")]),s._v(" URI 时，它会执行URI中的代码，然后用返回的值替换页面内容，除非返回的值是"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"undefined是全局对象的一个属性。也就是说，它是全局作用域的一个变量。undefined的最初值就是原始数据类型undefined。"}},[n("code",{pre:!0},[s._v("undefined")])]),s._v("。"),n("code",{pre:!0},[s._v("void")]),s._v("运算符可用于返回"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"undefined是全局对象的一个属性。也就是说，它是全局作用域的一个变量。undefined的最初值就是原始数据类型undefined。"}},[n("code",{pre:!0},[s._v("undefined")])]),s._v("。例如：")]),s._v(" "),n("pre",{pre:!0},[n("code",{attrs:{class:"hljs language-HTML"}},[n("span",{attrs:{class:"hljs-tag"}},[s._v("<"),n("span",{attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),n("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),n("span",{attrs:{class:"hljs-string"}},[s._v('"javascript:void(0);"')]),s._v(">")]),s._v("\n这个链接点击之后不会做任何事情，如果去掉 void()，\n点击之后整个页面会被替换成一个字符 0。\n"),n("span",{attrs:{class:"hljs-tag"}},[s._v("</"),n("span",{attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n"),n("span",{attrs:{class:"hljs-tag"}},[s._v("<"),n("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v(" chrome中即使"),n("span",{attrs:{class:"hljs-tag"}},[s._v("<"),n("span",{attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),n("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),n("span",{attrs:{class:"hljs-string"}},[s._v('"javascript:0;"')]),s._v(">")]),s._v("也没变化，firefox中会变成一个字符串0 "),n("span",{attrs:{class:"hljs-tag"}},[s._v("</"),n("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n"),n("span",{attrs:{class:"hljs-tag"}},[s._v("<"),n("span",{attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),n("span",{attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),n("span",{attrs:{class:"hljs-string"}},[s._v("\"javascript:void(document.body.style.backgroundColor='green');\"")]),s._v(">")]),s._v("\n点击这个链接会让页面背景变成绿色。\n"),n("span",{attrs:{class:"hljs-tag"}},[s._v("</"),n("span",{attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n")])])])])])}],!1,null,null,null);a.default=l.exports},lDKz:function(s,a,n){var t=n("B5Dx");"string"==typeof t&&(t=[[s.i,t,""]]),t.locals&&(s.exports=t.locals);(0,n("SZ7m").default)("5b752894",t,!0,{})}}]);