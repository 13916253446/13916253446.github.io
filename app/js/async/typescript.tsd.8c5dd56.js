(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{ASkW:function(s,a,t){"use strict";t.r(a);var e=t("DUwT"),r={name:"TypescriptTsd",components:{md:t.n(e).a}},v=t("JFUb");var n=function(s){t("nuSR")},_=Object(v.a)(r,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,n,"data-v-773b7a86",null);a.default=_.exports},DUwT:function(s,a,t){s.exports=t("pHMM")},E9YD:function(s,a,t){(s.exports=t("I1BE")(!1)).push([s.i,"",""])},nuSR:function(s,a,t){var e=t("E9YD");"string"==typeof e&&(e=[[s.i,e,""]]),e.locals&&(s.exports=e.locals);(0,t("SZ7m").default)("72cc1124",e,!0,{})},pHMM:function(s,a,t){"use strict";t.r(a);var e=t("JFUb"),r=Object(e.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h3",{attrs:{id:"tuo-zhan-shen-ming-wen-jian"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tuo-zhan-shen-ming-wen-jian","aria-hidden":"true"}},[s._v("¶")]),s._v(" 拓展申明文件")]),s._v(" "),t("p",[s._v("虽然JavaScript不支持合并，但你可以为导入的对象打补丁以更新它们。")]),s._v(" "),t("h4",{attrs:{id:"quan-ju-tuo-zhan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#quan-ju-tuo-zhan","aria-hidden":"true"}},[s._v("¶")]),s._v(" 全局拓展")]),s._v(" "),t("p",[s._v("直接申明全局拓展")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-typescript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("declare")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" maxNum: "),t("span",{attrs:{class:"hljs-number"}},[s._v("100")]),s._v("\n")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/13916253446/assets/master/public/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-09-24%20%E4%B8%8B%E5%8D%888.oqgud17low8.25.57%20(1).png",alt:"tsd"}})]),s._v(" "),t("div",{staticClass:"warning"},[t("p",[s._v("这里要注意当使用"),t("code",{pre:!0},[s._v("const")]),s._v("或者"),t("code",{pre:!0},[s._v("let")]),s._v("的话,只能通过直接使用变量名的方式来访问,不能通过"),t("code",{pre:!0},[s._v("window")]),s._v("来访问。比如上面的例子不能通过"),t("code",{pre:!0},[s._v("window.maxNum")]),s._v("来访问。当我们把代码改成"),t("code",{pre:!0},[s._v("var")]),t("br")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-typescript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("declare")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" maxNum: "),t("span",{attrs:{class:"hljs-number"}},[s._v("100")]),s._v("\n")])]),s._v(" "),t("p",[s._v("能直接通过变量名访问，也可以通过"),t("code",{pre:!0},[s._v("window")]),s._v("来访问这个变量")])]),s._v(" "),t("p",[s._v("在模块内部申明全局变量")]),s._v(" "),t("p",[s._v("在模块申明文件里面,可以通过"),t("code",{pre:!0},[s._v("global")]),s._v("来申明全局变量")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-typescript"}},[t("span",{attrs:{class:"hljs-comment"}},[s._v("// module.d.ts")]),s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("declare")]),s._v(" global {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" $vue: Vue\n}\n")])]),s._v(" "),t("div",{staticClass:"warning"},[t("p",[s._v("只要文件内部使用"),t("code",{pre:!0},[s._v("import")]),s._v("或者"),t("code",{pre:!0},[s._v("export")]),s._v("关键字,那么这个文件就是一个模块申明文件了,也就是不能直接通过"),t("code",{pre:!0},[s._v("declare const maxs: 200")]),s._v("来申明全局变量了。")])]),s._v(" "),t("h4",{attrs:{id:"mo-kuai-tuo-zhan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mo-kuai-tuo-zhan","aria-hidden":"true"}},[s._v("¶")]),s._v(" 模块拓展")]),s._v(" "),t("p",[s._v("可以拓展内部自定义模块以及外部模块比如"),t("code",{pre:!0},[s._v("Vue")])]),s._v(" "),t("ul",[t("li",[s._v("拓展外部模块")])]),s._v(" "),t("p",[s._v("比如增加"),t("code",{pre:!0},[s._v("Vue")]),s._v("的根实例上面增加一个"),t("code",{pre:!0},[s._v("$get")]),s._v("的请求方法")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-typescript"}},[t("span",{attrs:{class:"hljs-comment"}},[s._v("// 1. 确保在声明补充的类型之前导入 'vue'")]),s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 2. 找到要拓展的模块的路径(Vue构造函数类型在types/vue.d.ts里)")]),s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("declare")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("module")]),s._v(" 'vue/types/vue' {\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 3. 声明为 Vue 补充的东西")]),s._v("\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("interface")]),s._v(" Vue {\n    "),t("span",{attrs:{class:"hljs-comment"}},[s._v("/**\n     * get请求\n     * @param  {string} _mt 请求标识符\n     * @returns Promise 异步函数\n     */")]),s._v("\n    $"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("get")]),s._v("(_mt: "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("string")]),s._v("): "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Promise")]),s._v("<object>\n  }\n}\n")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/13916253446/assets/master/public/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-09-24%20%E4%B8%8B%E5%8D%888.jkiunartchq.51.57%20(1).png",alt:"tsd"}})]),s._v(" "),t("ul",[t("li",[s._v("拓展内部自定义模块")])]),s._v(" "),t("p",[s._v("通过模块导入"),t("code",{pre:!0},[s._v("import")]),s._v("或者"),t("code",{pre:!0},[s._v("require")]),s._v("的方式使用的模块,可以有两种方式来申明文件。")]),s._v(" "),t("p",[s._v("1、在相应的模块文件夹下建立同名的"),t("code",{pre:!0},[s._v(".d.ts")]),s._v("文件来申明")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-typescript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { NativeGoBack } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'@/libs/util.native.js'")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// @/libs目录下的util.native.d.ts文件")]),s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("declare")]),s._v(" "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("NativeGoBack")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}}),s._v(") => "),t("span",{attrs:{class:"hljs-title"}},[s._v("void")]),s._v("\n")])])]),s._v(" "),t("div",{staticClass:"warning"},[t("p",[s._v("无论在任何位置的"),t("code",{pre:!0},[s._v(".ts")]),s._v("以及"),t("code",{pre:!0},[s._v(".d.ts")]),s._v("文件内没有使用"),t("code",{pre:!0},[s._v("export")]),s._v("申明"),t("code",{pre:!0},[s._v("declare")]),s._v("的类型都将是"),t("strong",[s._v("全局的")])])]),s._v(" "),t("p",[s._v("2、通过"),t("code",{pre:!0},[s._v("module")]),s._v("来申明")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-typescript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("declare")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("module")]),s._v(" '@/libs/util.native' {\n    "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{attrs:{class:"hljs-title"}},[s._v("NativeGoBack")]),s._v(" ("),t("span",{attrs:{class:"hljs-params"}}),s._v(") => "),t("span",{attrs:{class:"hljs-title"}},[s._v("void")]),s._v("\n}\n")])])]),s._v(" "),t("h2",{attrs:{id:"can-kao"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#can-kao","aria-hidden":"true"}},[s._v("¶")]),s._v(" 参考")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.tslang.cn/docs/handbook/declaration-merging.html"}},[s._v("申明合并")])])])])}],!1,null,null,null);a.default=r.exports}}]);