(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{AC6D:function(s,a,t){(s.exports=t("I1BE")(!1)).push([s.i,"",""])},RFvm:function(s,a,t){"use strict";t.r(a);var l=t("JFUb"),r=Object(l.a)(null,function(){var s=this;s.$createElement;s._self._c;return s._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h3",{attrs:{id:"zai-chrome-75-zhong-yi-shi-xian-lan-jia-zai"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zai-chrome-75-zhong-yi-shi-xian-lan-jia-zai","aria-hidden":"true"}},[s._v("¶")]),s._v(" 在"),t("a",{attrs:{href:"https://chromestatus.com/feature/5645767347798016"}},[s._v("Chrome 75")]),s._v("中以实现懒加载")]),s._v(" "),t("p",[s._v("可以适用于图片("),t("code",{pre:!0},[s._v("<img />")]),s._v(")，以及iframe("),t("code",{pre:!0},[s._v("<iframe>")]),s._v(")")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-HTML"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"celebration.jpg"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("loading")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazy"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"..."')]),s._v(" />")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("iframe")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"video-player.html"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("loading")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazy"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("iframe")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("h3",{attrs:{id:"loading-shu-xing-zhi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loading-shu-xing-zhi","aria-hidden":"true"}},[s._v("¶")]),s._v(" "),t("code",{pre:!0},[s._v("loading")]),s._v("属性值")]),s._v(" "),t("ul",[t("li",[t("code",{pre:!0},[s._v("lazy")]),s._v(": 延迟加载")]),s._v(" "),t("li",[t("code",{pre:!0},[s._v("eager")]),s._v(": 立马加载")]),s._v(" "),t("li",[t("code",{pre:!0},[s._v("auto")]),s._v(": 由浏览器判断是否延迟加载")])]),s._v(" "),t("h3",{attrs:{id:"jian-rong-xing-jian-ce"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jian-rong-xing-jian-ce","aria-hidden":"true"}},[s._v("¶")]),s._v(" 兼容性检测")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-javascript"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{attrs:{class:"hljs-string"}},[s._v("'loading'")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" HTMLImageElement.prototype) {\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// Browser supports `loading`..")]),s._v("\n} "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// Fetch and apply a polyfill/JavaScript library")]),s._v("\n")])]),s._v(" "),t("h3",{attrs:{id:"an-xu-jia-zai-jian-rong-xing-ku"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#an-xu-jia-zai-jian-rong-xing-ku","aria-hidden":"true"}},[s._v("¶")]),s._v(" 按需加载兼容性库")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{class:"hljs language-HTML"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"hero.jpg"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('".."')]),s._v("/>")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("\x3c!-- Let's lazy-load the rest of these images --\x3e")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("data-src")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"unicorn.jpg"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("loading")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazy"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('".."')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazyload"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("data-src")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"cats.jpg"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("loading")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazy"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('".."')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazyload"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("data-src")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"dogs.jpg"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("loading")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazy"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('".."')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"lazyload"')]),s._v("/>")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{attrs:{class:"javascript"}},[s._v("\n("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" () => {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" images = "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelectorAll("),t("span",{attrs:{class:"hljs-string"}},[s._v('"img.lazyload"')]),s._v(");\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{attrs:{class:"hljs-string"}},[s._v("'loading'")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" HTMLImageElement.prototype) {\n        images.forEach("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("img")]),s._v(" =>")]),s._v(" {\n            img.src = img.dataset.src;\n        });\n    } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// Dynamically import the LazySizes library")]),s._v("\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" lazySizesLib = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v("("),t("span",{attrs:{class:"hljs-string"}},[s._v("'/lazysizes.min.js'")]),s._v(");\n        "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// Initiate LazySizes (reads data-src & class=lazyload)")]),s._v("\n        lazySizes.init(); "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// lazySizes works off a global.")]),s._v("\n    }\n})();\n")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("h2",{attrs:{id:"can-kao"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#can-kao","aria-hidden":"true"}},[s._v("¶")]),s._v(" 参考：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://addyosmani.com/blog/lazy-loading/"}},[s._v("图像的原生延迟加载")])])])])}],!1,null,null,null);a.default=r.exports},lJyM:function(s,a,t){s.exports=t("RFvm")},sMmo:function(s,a,t){"use strict";t.r(a);var l=t("lJyM"),r={name:"ChromeNativeLazy",components:{md:t.n(l).a}},n=t("JFUb");var v=function(s){t("vUQs")},_=Object(n.a)(r,function(){var s=this.$createElement,a=this._self._c||s;return a("div",[a("md")],1)},[],!1,v,"data-v-0293d3ea",null);a.default=_.exports},vUQs:function(s,a,t){var l=t("AC6D");"string"==typeof l&&(l=[[s.i,l,""]]),l.locals&&(s.exports=l.locals);(0,t("SZ7m").default)("59316473",l,!0,{})}}]);